@using Dilemma.Web.Extensions
@model Dilemma.Business.ViewModels.QuestionViewModel

<h2>Question @Model.QuestionId</h2>

<div class="row">
    <div class="col-md-8 col-md-offset-2">@Model.Text</div>
</div>

<div class="row top-buffer">
    <div class="col-md-8 col-md-offset-2 text-muted">
        <div class="row">
            <small class="col-md-4">Created: @Model.CreatedDateTime.ToRelativeText()</small>
            <small class="col-md-4">Closes: @Model.ClosesDateTime.ToRelativeText()</small>
        </div>
        <div class="row">
            <small class="col-md-4">Category: @Model.CategoryName</small>
            <small class="col-md-4">Max Answers: @Model.MaxAnswers</small>
        </div>
    </div>
</div>

<h3>Answers</h3>

@{ var topBuffer = ""; }
@foreach (var answer in Model.Answers)
{
    <div class="row @topBuffer">
        <div class="col-md-8 col-md-offset-2">@answer.Text</div>
    </div>
    
    <div class="row top-buffer">
        <div class="col-md-8 col-md-offset-2 text-muted">
            <small>Created: @answer.CreatedDateTime.ToRelativeText()</small>
        </div>
    </div>
    
    topBuffer = "top-buffer";
}
